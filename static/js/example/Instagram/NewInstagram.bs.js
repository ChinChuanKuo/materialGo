// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE

import * as Curry from "bs-platform/lib/es6/curry.js";
import * as React from "react";
import * as OutSide$BtsCore from "../../styles/OutSide/OutSide.bs.js";
import * as Setting$BtsCore from "../../setting/Setting.bs.js";
import * as Together$BtsCore from "../../styles/Together/Together.bs.js";
import * as Typography$BtsCore from "../../material-ui/core/Typography/Typography.bs.js";
import * as ProgressLinear$BtsCore from "../../material-ui/core/Progress/ProgressLinear.bs.js";

function reducer(state, action) {
  if (action) {
    return {
            formLoad: state.formLoad,
            formWidth: action[0],
            formHeight: action[1]
          };
  } else {
    return {
            formLoad: !state.formLoad,
            formWidth: state.formWidth,
            formHeight: state.formHeight
          };
  }
}

var initialState = {
  formLoad: false,
  formWidth: 0,
  formHeight: 0
};

function widths(width) {
  if (width !== undefined) {
    return width + "%";
  } else {
    return "95%";
  }
}

function bottoms(bottom) {
  if (bottom !== undefined) {
    return bottom + "px";
  } else {
    return "0px";
  }
}

function NewInstagram(Props) {
  var showProgress = Props.showProgress;
  var error = Props.error;
  var width = Props.width;
  var bottom = Props.bottom;
  var children = Props.children;
  var match = React.useReducer(reducer, initialState);
  var dispatch = match[1];
  var state = match[0];
  React.useEffect((function () {
          if (state.formLoad) {
            return (function (param) {
                      console.log("action");
                      
                    });
          }
          Curry._1(dispatch, /* SettingFormLoad */0);
          var formId = Curry._1(dispatch, /* SettingFormWidth */[
                window.innerWidth,
                window.innerHeight
              ]);
          return (function (param) {
                    return formId;
                  });
        }));
  var handleResize = function ($$event) {
    return Curry._1(dispatch, /* SettingFormWidth */[
                $$event.currentTarget.innerWidth,
                $$event.currentTarget.innerHeight
              ]);
  };
  React.useEffect((function () {
          window.addEventListener("resize", handleResize, true);
          return (function (param) {
                    
                  });
        }), ([]));
  return React.createElement(React.Fragment, undefined, Setting$BtsCore.disabledObjects(showProgress) ? React.createElement(ProgressLinear$BtsCore.make, {
                    style: OutSide$BtsCore.progressFixed
                  }) : null, React.createElement("main", {
                  style: Object.assign(({}), OutSide$BtsCore.mainTube, {
                        bottom: bottoms(bottom),
                        left: "5px",
                        right: "5px"
                      })
                }, React.createElement("div", {
                      style: Together$BtsCore.divScrollbar
                    }, React.createElement("div", {
                          style: Object.assign(({}), Together$BtsCore.marginAuto, {
                                maxWidth: widths(width),
                                width: widths(width),
                                flexBasis: widths(width)
                              })
                        }, Setting$BtsCore.disabledObjects(error) ? React.createElement("div", {
                                style: OutSide$BtsCore.errorForm
                              }, React.createElement(Typography$BtsCore.make, {
                                    variant: "tile",
                                    color: "rgba(255,0,0,0.8)",
                                    fontSize: "x-large",
                                    children: "UNDEFINED THIS PAGE"
                                  })) : children))));
}

var make = NewInstagram;

export {
  reducer ,
  initialState ,
  widths ,
  bottoms ,
  make ,
  
}
/* react Not a pure module */
